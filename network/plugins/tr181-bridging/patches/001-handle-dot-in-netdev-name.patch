From 0d68491606d36748c15d95f92e5e9f49305b6e85 Mon Sep 17 00:00:00 2001
From: sahbot <support.opensource@softathome.com>
Date: Fri, 21 Apr 2023 19:31:53 +0200
Subject: [PATCH] Issue: HOP-3347 Handle a dot in the NetDev name [fix]

GitOrigin-RevId: 35e8e53fd822b77e53b9287297da686e32ddd880
---
 src/bridging_subscription_utils.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/bridging_subscription_utils.c b/src/bridging_subscription_utils.c
index 7a4be33..851411c 100644
--- a/src/bridging_subscription_utils.c
+++ b/src/bridging_subscription_utils.c
@@ -165,7 +165,7 @@ void netdev_link_state_subscription_new(port_info_t* port) {
     ctx = amxb_be_who_has("NetDev.Link.");
     when_null_trace(ctx, exit, WARNING, "ctx not known, no subscription created");
 
-    amxc_string_setf(&expr, "object == 'NetDev.Link.%s.' && "
+    amxc_string_setf(&expr, "eobject == 'NetDev.Link.[%s].' && "
                      "contains('parameters.State')", port->netdev_intf);
     if(port->netdev_status_subscription != NULL) {
         amxb_subscription_delete(&(port->netdev_status_subscription));
-- 
GitLab

